<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login Page</title>
    <style>
        .section {
            display: none;
        }
        .active {
            display: block;
        }
    </style>
    <script>
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            // Show the selected section
            document.getElementById(sectionId).classList.add('active');
        }
    </script>
</head>
<body>

<h1>Account Management</h1>
<div>
    <button onclick="showSection('loginSection')">Login</button>
    <button onclick="showSection('registerSection')">Register</button>
    <button onclick="showSection('changePasswordSection')">Change Password</button>
    <button onclick="showSection('forgotPasswordSection')">Forgot Password</button>
</div>

<div id="loginSection" class="section active">
    <h2>Login</h2>
    <form th:action="@{/login}" th:object="${customer}" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" th:field="*{username}" required><br><br>
        <label for="password">Password:</label>
        <input type="password" id="password" th:field="*{password}" required><br><br>
        <button type="submit">Login</button>
    </form>
    <p th:text="${error}"></p>
</div>

<div id="registerSection" class="section">
    <h2>Register</h2>
    <form th:action="@{/register}" th:object="${customer}" method="post">
        <label for="newUsername">New Username:</label>
        <input type="text" id="newUsername" th:field="*{username}" required><br><br>
        <label for="newEmail">New Email:</label>
        <input type="email" id="newEmail" th:field="*{email}" required><br><br>
        <label for="newPassword">New Password:</label>
        <input type="password" id="newPassword" th:field="*{password}" required><br><br>
        <button type="submit">Register</button>
    </form>
    <p th:text="${error}"></p>
</div>

<div id="changePasswordSection" class="section">
    <h2>Change Password</h2>
    <form th:action="@{/change-password}" th:object="${customer}" method="post">
        <label for="currentUsername">Username:</label>
        <input type="text" id="currentUsername" th:field="*{username}" required><br><br>
        <label for="currentPassword">Current Password:</label>
        <input type="password" id="currentPassword" th:field="*{password}" required><br><br>
        <label for="newPasswordChange">New Password:</label>
        <input type="password" id="newPasswordChange" name="newPassword" required><br><br>
        <button type="submit">Change Password</button>
    </form>
    <p th:text="${error}"></p>
</div>

<div id="forgotPasswordSection" class="section">
    <h2>Forgot Password</h2>
    <form th:action="@{/forgot-password}" th:object="${customer}" method="post">
        <label for="forgotUsername">Username:</label>
        <input type="text" id="forgotUsername" th:field="*{username}" required><br><br>
        <label for="forgotNewPassword">New Password:</label>
        <input type="password" id="forgotNewPassword" name="newPassword" required><br><br>
        <button type="submit">Reset Password</button>
    </form>
    <p th:text="${error}"></p>
    <p th:text="${message}"></p>
</div>

</body>
</html>
